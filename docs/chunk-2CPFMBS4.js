import{a as u}from"./chunk-XXMKUIPK.js";import{Ma as r,N as a,Ob as s,T as h,m as i,q as n,x as p}from"./chunk-SGWCVCL6.js";var c={apiUrl:"https://pokeapi.co/api/v2"};var I=(()=>{class o{http=h(u);apiUrl=`${c.apiUrl}`;pokedexResponse=r({});totalItems=s(()=>this.pokedexResponse().count);nextItems=s(()=>this.pokedexResponse().next);previousItems=s(()=>this.pokedexResponse().previous);pokedex=s(()=>this.pokedexResponse().results);favorites=r([]);constructor(){let e=`${this.apiUrl}/pokemon`;this.getFavorites(),this.getPokedex(e).subscribe()}getFavorites(){this.favorites.set([]),localStorage.getItem("poke-favorites")&&this.favorites.set(JSON.parse(localStorage.getItem("poke-favorites")))}addToFavorites(e){this.favorites.update(t=>t.includes(e)?t.filter(l=>l!==e):[...t,e]),localStorage.setItem("poke-favorites",JSON.stringify(this.favorites()))}isFavorite(e){return!!this.favorites().includes(e)}setPokedex(e){return this.pokedexResponse.set(e),!0}getPokedex(e){return this.http.get(e).pipe(n(t=>this.setPokedex(t)),p(()=>i(!1)))}nextPokedex(){return this.getPokedex(this.nextItems())}previousPokedex(){return this.getPokedex(this.previousItems())}getPokemonByIdOrName(e){let t=`${this.apiUrl}/pokemon/${e}`;return this.http.get(t)}getPokemonAboutById(e){let t=`${this.apiUrl}/pokemon-species/${e}`;return this.http.get(t)}getEvolutionChain(e){return this.http.get(e)}getMoveInformation(e){return this.http.get(e)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=a({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();export{I as a};
